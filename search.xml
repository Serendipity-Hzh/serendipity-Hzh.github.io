<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Java注解和反射相关</title>
      <link href="/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/"/>
      <url>/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">            <i class="fa fa-quote-left"></i>            <p>“Java注解和反射的相关内容☕。”</p>            <i class="fa fa-quote-right"></i>          </blockquote><a id="more"></a><h2 id="二、注解和反射的概念："><a href="#二、注解和反射的概念：" class="headerlink" title="二、注解和反射的概念："></a>二、注解和反射的概念：</h2><p>补充：<a href="https://www.bilibili.com/video/BV1fh411y7R8?p=711" target="_blank" rel="noopener">韩顺平 讲解 反射：</a></p><h3 id="1、反射：-框架设计的灵魂"><a href="#1、反射：-框架设计的灵魂" class="headerlink" title="1、反射： 框架设计的灵魂"></a>1、反射： 框架设计的灵魂</h3><p>框架：半成品软件；可以在框架的基础上进行软件开发，简化编码。</p><p>反射：将类的各个组成部分封装为其他对象，这就是反射机制。</p><p>反射的好处：</p><ol><li>可以在程序运行过程中，操作这些对象。</li><li>可以解耦，提高程序的可扩展性。</li></ol><p><img src="https://img-blog.csdnimg.cn/a1c7c05a4e064c06ae0d8dfb292315cd.png" alt=""></p><h4 id="1-1-获取Class对象的方式："><a href="#1-1-获取Class对象的方式：" class="headerlink" title="1.1 获取Class对象的方式："></a>1.1 获取Class对象的方式：</h4><p>获取Class对象的方式：</p><ol><li><p><code>Class.forName(&quot;全类名&quot;)</code>：将<strong>字节码文件加载进内存</strong>，返回Class对象</p><ul><li>多用于配置文件（<strong>全类名</strong>传来字符串），将类名定义在配置文件中。读取文件，加载类</li></ul></li><li><p><code>类名.class</code>：通过类名的<strong>属性class</strong>获取</p><ul><li>多用于参数的传递</li></ul></li><li><p><code>对象.getClass()</code>：getClass()方法在Object类中定义着。</p><ul><li>多用于对象的获取字节码的方式</li></ul></li></ol><ul><li>结论：<br>同一个字节码文件(<em>.class)在一次程序运行过程中，*</em>只会被加载一次<strong>，不论通过哪一种方式</strong>获取的Class对象都是同一个**。</li></ul><h5 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h5><p><code>ReflectDemo01.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo01</span>  </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     获取Class对象的方式：</span></span><br><span class="line"><span class="comment">     1. Class.forName("全类名")：将字节码文件加载进内存，返回Class对象</span></span><br><span class="line"><span class="comment">     2. 类名.class：通过类名的属性class获取</span></span><br><span class="line"><span class="comment">     3. 对象.getClass()：getClass()方法在Object类中定义着。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//main函数里面进行操作：主函数抛出异常</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1. Class.forName("全类名")：将字节码文件加载进内存，返回Class对象</span></span><br><span class="line">        Class&lt;?&gt; cls01 = Class.forName(<span class="string">"demo.vacation.reflect.Person"</span>);</span><br><span class="line">        System.out.println(cls01);</span><br><span class="line">        <span class="comment">//2. 类名.class：通过类名的属性class获取</span></span><br><span class="line">        Class&lt;Person&gt; cls02 = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        System.out.println(cls02);</span><br><span class="line">        <span class="comment">//3. 对象.getClass()：getClass()方法在Object类中定义着。</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Class&lt;? extends Person&gt; cls03 = person.getClass();</span><br><span class="line">        System.out.println(cls03);</span><br><span class="line">        <span class="comment">//== 比较三个对象: 以内存地址的方式进行比较。</span></span><br><span class="line">        System.out.println(cls01 == cls02);<span class="comment">//true</span></span><br><span class="line">        System.out.println(cls02 == cls03);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        Class&lt;Student&gt; studentClass = Student<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        System.out.println(cls01 == studentClass);<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Person.java</code>  ：实体类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String a;</span><br><span class="line">    <span class="keyword">protected</span> String b;</span><br><span class="line">    String c;</span><br><span class="line">    <span class="keyword">private</span> String d;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, String age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(String age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age='"</span> + age + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", a='"</span> + a + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", b='"</span> + b + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", c='"</span> + c + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", d='"</span> + d + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"eat.."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"eat..."</span> + food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Student.java</code> ：学生类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"sleep..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-Class-对象的功能："><a href="#1-2-Class-对象的功能：" class="headerlink" title="1.2 Class 对象的功能："></a>1.2 Class 对象的功能：</h4><blockquote><p>JDK 文档中 搜索Class 可见所有方法：</p></blockquote><p><strong>主要为获取功能</strong>：</p><ol><li><p>获取成员变量们 : </p><p>反射私有的也是可以获取的：在这之前忽略访问权限 修饰符的安全检查</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Field[] getFields() ：获取所有<span class="keyword">public</span>修饰的成员变量</span><br><span class="line"><span class="function">Field <span class="title">getField</span><span class="params">(String name)</span>   获取指定名称的 <span class="keyword">public</span>修饰的成员变量</span></span><br><span class="line"><span class="function">Field[] <span class="title">getDeclaredFields</span><span class="params">()</span>  获取所有的成员变量，不考虑修饰符</span></span><br><span class="line"><span class="function">Field <span class="title">getDeclaredField</span><span class="params">(String name)</span>  返回一个 Field对象，它反映此表示的类或接口的指定已声明字段 类对象。</span></span><br></pre></td></tr></table></figure></li><li><p>获取构造方法们 :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Constructor&lt;?&gt;[] getConstructors()  </span><br><span class="line"><span class="function">Constructor&lt;T&gt; <span class="title">getConstructor</span><span class="params">(类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Constructor&lt;T&gt; <span class="title">getDeclaredConstructor</span><span class="params">(类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Constructor&lt;?&gt;[] <span class="title">getDeclaredConstructors</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></li><li><p>获取成员方法们：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Method[] getMethods()  </span><br><span class="line"><span class="function">Method <span class="title">getMethod</span><span class="params">(String name, 类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Method[] <span class="title">getDeclaredMethods</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function">Method <span class="title">getDeclaredMethod</span><span class="params">(String name, 类&lt;?&gt;... parameterTypes)</span></span></span><br></pre></td></tr></table></figure></li><li><p>获取全类名：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></li><li><p>获取方法对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object obj = cls.newInstance() <span class="comment">//创建由此 类对象表示的类的新实例。</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="1-3-被获取的各部分功能："><a href="#1-3-被获取的各部分功能：" class="headerlink" title="1.3 被获取的各部分功能："></a>1.3 被获取的各部分功能：</h4><blockquote><p>更多内容 查看JDK文档</p></blockquote><p><strong>1、Field：成员变量</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 操作：</span><br><span class="line"><span class="number">1</span>. 设置值</span><br><span class="line">* <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(Object obj, Object value)</span>  </span></span><br><span class="line"><span class="function">2. 获取值</span></span><br><span class="line"><span class="function">* <span class="title">get</span><span class="params">(Object obj)</span> <span class="comment">// 获取成员变量的值 需要传入一个对象</span></span></span><br><span class="line"><span class="function">3. 忽略访问权限修饰符的安全检查</span></span><br><span class="line"><span class="function">* <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span>:暴力反射</span></span><br></pre></td></tr></table></figure><p><strong>2、Constructor:构造方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* Constructor:构造方法</span><br><span class="line">* <span class="number">1</span>.创建对象：</span><br><span class="line">* <span class="function">T <span class="title">newInstance</span><span class="params">(Object... initargs)</span>  </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">* 如果使用空参数构造方法创建对象，操作可以简化：Class对象的newInstance方法</span></span><br><span class="line"><span class="function">  * <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span>:暴力反射</span></span><br></pre></td></tr></table></figure><p><strong>3、Method：方法对象</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* Method：方法对象</span><br><span class="line">* 执行方法：invoke 调用</span><br><span class="line">* <span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span>  </span></span><br><span class="line"><span class="function">* 获取方法名称：</span></span><br><span class="line"><span class="function">* String getName:获取方法名</span></span><br></pre></td></tr></table></figure><h5 id="相关代码："><a href="#相关代码：" class="headerlink" title="相关代码："></a><strong>相关代码</strong>：</h5><p><code>ReflectDemo02.java</code> : 对应成员变量的相关内容</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">             1. 获取成员变量们</span></span><br><span class="line"><span class="comment">                 * Field[] getFields()</span></span><br><span class="line"><span class="comment">                 * Field getField(String name)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                 * Field[] getDeclaredFields()</span></span><br><span class="line"><span class="comment">                 * Field getDeclaredField(String name)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.Field[] getFields()获取所有public修饰的成员变量</span></span><br><span class="line">        Field[] fields = personClass.getFields();</span><br><span class="line">        <span class="comment">//IDEA 快捷键 iter</span></span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(field);<span class="comment">// Person.a 变量为public</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"-----2-----"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.Field getField(String name)</span></span><br><span class="line">        <span class="comment">//获取单个public成员变量 a</span></span><br><span class="line">        Field a = personClass.getField(<span class="string">"a"</span>);<span class="comment">//主方法 抛出异常</span></span><br><span class="line">        <span class="comment">//获取成员变量 a 的值</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Object value = a.get(person);</span><br><span class="line">        System.out.println(value);<span class="comment">// 对象 a 的值 为 null</span></span><br><span class="line">        <span class="comment">//设置a的值：</span></span><br><span class="line">        a.set(person, <span class="string">"value"</span>);</span><br><span class="line">        System.out.println(person); <span class="comment">// 输出person 这一实例的具体值。</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----3-----"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、Field[] getDeclaredFields()：获取所有的成员变量，不考虑修饰符</span></span><br><span class="line">        <span class="keyword">for</span> (Field declaredField : personClass.getDeclaredFields()) &#123;</span><br><span class="line">            System.out.println(declaredField);<span class="comment">//打印输出 全部成员变量</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----4-----"</span>);</span><br><span class="line">        <span class="comment">//4、Field getDeclaredField(String name)</span></span><br><span class="line">        Field d = personClass.getDeclaredField(<span class="string">"d"</span>);<span class="comment">//D 是private 需要通过忽略</span></span><br><span class="line">        d.setAccessible(<span class="keyword">true</span>);<span class="comment">//暴力反射</span></span><br><span class="line">        Object value2 = d.get(person);</span><br><span class="line">        System.out.println(value2);<span class="comment">// 输出为null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ReflectDemo03.java</code> 对应构造器 new 一个对象；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            2. 获取构造方法们</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;?&gt;[] getConstructors()</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;T&gt; getConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                 * Constructor&lt;T&gt; getDeclaredConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;?&gt;[] getDeclaredConstructors()</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Constructor&lt;T&gt; getConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line">        <span class="comment">// 对应参数的构造器</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor = personClass.getConstructor(String<span class="class">.<span class="keyword">class</span>,<span class="title">String</span>.<span class="title">class</span>)</span>;</span><br><span class="line">        System.out.println(constructor);</span><br><span class="line">        <span class="comment">//创建对象：构造器的目的</span></span><br><span class="line">        Object person = constructor.newInstance(<span class="string">"张三"</span>, <span class="string">"23"</span>);</span><br><span class="line">        System.out.println(person);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"----------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对应无参构造</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor1 = personClass.getConstructor();</span><br><span class="line">        System.out.println(constructor1);</span><br><span class="line">        <span class="comment">//创建对象：无参</span></span><br><span class="line">        Object person1 = constructor1.newInstance();</span><br><span class="line">        System.out.println(person1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用Class 类对象直接构建对象</span></span><br><span class="line">        System.out.println(<span class="string">"----类对象直接构建对象----"</span>);</span><br><span class="line">        Object o = personClass.newInstance();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        <span class="comment">//暴力反射：</span></span><br><span class="line">        <span class="comment">//constructor1.setAccessible(true);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ReflectDemo04.java</code>  对应方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">          3. 获取成员方法们：</span></span><br><span class="line"><span class="comment">             * Method[] getMethods()</span></span><br><span class="line"><span class="comment">             * Method getMethod(String name, 类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">             * Method[] getDeclaredMethods()</span></span><br><span class="line"><span class="comment">             * Method getDeclaredMethod(String name, 类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//获取指定名称的方法</span></span><br><span class="line">        Method eat_method = personClass.getMethod(<span class="string">"eat"</span>);</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">//执行方法 参数 是对象；</span></span><br><span class="line">        eat_method.invoke(p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Method eat_method2 = personClass.getMethod(<span class="string">"eat"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//执行方法</span></span><br><span class="line">        eat_method2.invoke(p,<span class="string">"饭"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取所有public修饰的方法</span></span><br><span class="line">        Method[] methods = personClass.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">            String name = method.getName();</span><br><span class="line">            System.out.println(name);</span><br><span class="line">            <span class="comment">//method.setAccessible(true);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取类名</span></span><br><span class="line">        String className = personClass.getName();</span><br><span class="line">        System.out.println(className);<span class="comment">//demo.vacation.reflect.Person</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-4、案例"><a href="#1-4、案例" class="headerlink" title="1.4、案例"></a>1.4、案例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 需求：写一个&quot;框架&quot;，不能改变该类的任何代码的前提下，可以帮我们创建任意类的对象，并且执行其中任意方法</span><br><span class="line">* 实现：</span><br><span class="line">1. 配置文件: （修改配置文件 可拓展性）</span><br><span class="line">2. 反射</span><br><span class="line">* 步骤：</span><br><span class="line">1. 将需要创建的对象的全类名和需要执行的方法定义在配置文件中</span><br><span class="line">2. 在程序中加载读取配置文件</span><br><span class="line">3. 使用反射技术来加载类文件进内存</span><br><span class="line">4. 创建对象</span><br><span class="line">5. 执行方法</span><br></pre></td></tr></table></figure><blockquote><p>配置文件：包含全类名 就是<strong>反射机制</strong>。</p></blockquote><h5 id="相关代码-1"><a href="#相关代码-1" class="headerlink" title="相关代码"></a>相关代码</h5><p><code>ReflectDemo.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//可以创建任意类的对象，可以执行任意方法</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            前提：不能改变该类的任何代码。可以创建任意类的对象，可以执行任意方法</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        此时就需要修改代码了</span></span><br><span class="line"><span class="comment">        Person p = new Person();</span></span><br><span class="line"><span class="comment">        p.eat();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        Student stu = new Student();</span></span><br><span class="line"><span class="comment">        stu.sleep();</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.加载配置文件</span></span><br><span class="line">        <span class="comment">//1.1创建Properties对象</span></span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//1.2加载配置文件，转换为一个集合</span></span><br><span class="line">        <span class="comment">//1.2.1获取class目录下的配置文件</span></span><br><span class="line">        ClassLoader classLoader = ReflectDemo<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>()</span>;<span class="comment">//通过类名的属性class获取类对象</span></span><br><span class="line">        InputStream is = classLoader.getResourceAsStream(<span class="string">"demo/vacation/reflect/pro.properties"</span>);</span><br><span class="line">        pro.load(is);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取配置文件中定义的数据</span></span><br><span class="line">        String className = pro.getProperty(<span class="string">"className"</span>);</span><br><span class="line">        String methodName = pro.getProperty(<span class="string">"methodName"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.加载该类进内存</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(className);</span><br><span class="line">        <span class="comment">//4.创建对象</span></span><br><span class="line">        Object obj = cls.newInstance();</span><br><span class="line">        <span class="comment">//5.获取方法对象</span></span><br><span class="line">        Method method = cls.getMethod(methodName);</span><br><span class="line">        <span class="comment">//6.执行方法</span></span><br><span class="line">        method.invoke(obj);<span class="comment">//sleep...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2、注解相关"><a href="#2、注解相关" class="headerlink" title="2、注解相关"></a>2、注解相关</h3><p>概念：说明程序的；给计算机看的。</p><p>注释：用文字描述程序的；给程序员看的。</p><p>定义：注解（<code>Annotation</code>），也叫元数据。一种代码级别的说明。它是JDK1.5及以后版本引入的一个特性，与类、接口、枚举是在同一个层次。它可以声明在包、类、字段、方法、局部变量、方法参数等的前面，用来对这些元素进行说明，注释。</p><p>概念描述：</p><ul><li>JDK1.5之后的新特性</li><li>说明程序的</li><li>使用注解：@注解名称</li></ul><h4 id="2-1-作用分类"><a href="#2-1-作用分类" class="headerlink" title="2.1 作用分类"></a>2.1 作用分类</h4><p>①编写文档：通过代码里标识的注解生成文档【生成文档doc文档】</p><ul><li>CMD ：<code>javadoc  AnnotationDemo.java</code> 在当前文件下生成doc文件。</li></ul><p>②代码分析：通过代码里标识的注解对代码进行分析【使用反射】(我们反射抽取注解)</p><p>③编译检查：通过代码里标识的注解让编译器能够实现基本的编译检查【Override】</p><h4 id="2-2-JDK中预定义的一些注解"><a href="#2-2-JDK中预定义的一些注解" class="headerlink" title="2.2 JDK中预定义的一些注解"></a>2.2 JDK中预定义的一些注解</h4><ul><li><p>@Override    ：检测被该注解标注的方法是否是继承自父类(接口)的</p></li><li><p>@Deprecated：该注解标注的内容，表示已过时：调用时划掉但是也还可以使用：升级换代了。</p></li><li><p>@SuppressWarnings：压制警告</p><p>一般传递参数all  @SuppressWarnings(“all”)</p></li></ul><h4 id="2-3-自定义注解"><a href="#2-3-自定义注解" class="headerlink" title="2.3 自定义注解"></a>2.3 自定义注解</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式：</span></span><br><span class="line">      <span class="comment">//元注解 </span></span><br><span class="line">          <span class="keyword">public</span> <span class="meta">@interface</span> MyAnno&#123; <span class="comment">//注解名称MyAnno</span></span><br><span class="line">            <span class="comment">//属性列表;</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="comment">//本质：注解本质上就是一个接口，该接口默认继承Annotation接口</span></span><br><span class="line">      <span class="comment">//反编译MyAnno.class : javac MyAnno,java  javap MyAnno.class</span></span><br><span class="line">      <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyAnno</span> <span class="keyword">extends</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">annotation</span>.<span class="title">Annotation</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">//属性：接口中的抽象方法</span></span><br><span class="line">* 要求：</span><br><span class="line"><span class="number">1</span>. 属性的返回值类型有下列取值</span><br><span class="line">* 基本数据类型</span><br><span class="line">* String</span><br><span class="line">* 枚举</span><br><span class="line">* 注解</span><br><span class="line">* 以上类型的数组</span><br><span class="line">      <span class="number">2</span>. 定义了属性，在使用时需要给属性赋值</span><br><span class="line"><span class="number">1</span>. 如果定义属性时，使用<span class="keyword">default</span>关键字给属性默认初始化值，则使用注解时，可以不进行属性的赋值。</span><br><span class="line"><span class="number">2</span>. 如果只有一个属性需要赋值，并且属性的名称是value，则value可以省略，直接定义值即可。</span><br><span class="line"><span class="number">3</span>. 数组赋值时，值使用&#123;&#125;包裹。如果数组中只有一个值，则&#123;&#125;可以省略</span><br><span class="line"><span class="comment">//元注解：</span></span><br><span class="line">* 元注解：用于描述注解的注解</span><br><span class="line">* <span class="meta">@Target</span>：描述注解能够作用的位置</span><br><span class="line">* ElementType取值：</span><br><span class="line">* TYPE：可以作用于类上</span><br><span class="line">* METHOD：可以作用于方法上</span><br><span class="line">* FIELD：可以作用于成员变量上</span><br><span class="line">* <span class="meta">@Retention</span>：描述注解被保留的阶段</span><br><span class="line">* <span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)：当前被描述的注解，会保留到<span class="class"><span class="keyword">class</span>字节码文件中，并被<span class="title">JVM</span>读取到</span></span><br><span class="line"><span class="class">* @<span class="title">Documented</span>：描述注解是否被抽取到<span class="title">api</span>文档中</span></span><br><span class="line"><span class="class">* @<span class="title">Inherited</span>：描述注解是否被子类继承</span></span><br></pre></td></tr></table></figure><h4 id="2-4-在程序使用-解析-注解："><a href="#2-4-在程序使用-解析-注解：" class="headerlink" title="2.4 在程序使用(解析)注解："></a>2.4 在程序使用(解析)注解：</h4><blockquote><p>获取注解中定义的属性值</p></blockquote><ol><li><p>获取注解定义的位置的对象  （Class，Method,Field）</p></li><li><p>获取指定的注解</p><p><code>getAnnotation(Class)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProImpl</span> <span class="keyword">implements</span> <span class="title">Pro</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">className</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"cn.itcast.annotation.Demo1"</span>;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">methodName</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">"show"</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>调用注解中的抽象方法获取配置的属性值</p></li></ol><h4 id="2-5-案例"><a href="#2-5-案例" class="headerlink" title="2.5 案例"></a>2.5 案例</h4><ul><li>案例：简单的测试框架</li><li>小结：<ol><li>以后大多数时候，我们会使用注解，而不是自定义注解</li><li>注解给谁用？<ol><li>编译器</li><li>给解析程序用</li></ol></li><li>注解不是程序的一部分，可以理解为注解就是一个标签</li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> JAVA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JAVA </tag>
            
            <tag> Reflection </tag>
            
            <tag> Annotation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Junit单元测试</title>
      <link href="/2021/08/14/Junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
      <url>/2021/08/14/Junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">            <i class="fa fa-quote-left"></i>            <p>“JUNIT 单元测试 相关内容。👀”</p>            <i class="fa fa-quote-right"></i>          </blockquote><a id="more"></a><h2 id="一、JUNIT-单元测试"><a href="#一、JUNIT-单元测试" class="headerlink" title="一、JUNIT 单元测试"></a>一、JUNIT 单元测试</h2><h3 id="1、代码流程："><a href="#1、代码流程：" class="headerlink" title="1、代码流程："></a>1、代码流程：</h3><blockquote><p>规范： 新建一个测试Test 包进行存放测试内容；类的对应。</p></blockquote><p><code>demo/vacation/junit/Calculator.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.junit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">    <span class="comment">// IDEA使用 alt + insert 进行快速类方法测试</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//int res = a/0; 异常 会变红的；</span></span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//减法：</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>demo/vacation/junit/CalculatorTest.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.junit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalculatorTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*使用Junit5*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 初始化方法；</span></span><br><span class="line"><span class="comment">     * 用于资源的申请；所有测试方法再执行之前都会执行该方法（IO 之类)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"init..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 释放资源方法</span></span><br><span class="line"><span class="comment">     * 同上</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"close..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       @Test：使用Junit5</span></span><br><span class="line"><span class="comment">       Junit 测试: 白盒测试 （需要代码）</span></span><br><span class="line"><span class="comment">       避免了 main 主方法杂乱无章的运行</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       核心是构建对象 并且调用需要测试的函数；</span></span><br><span class="line"><span class="comment">       返回值和参数 : 无参 + void 类型（ps：不需要进行调用）</span></span><br><span class="line"><span class="comment">       重点在颜色而不过度在意返回结果；绿色代码逻辑正确；红色代码异常；</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Calculator calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">        <span class="keyword">int</span> add = calculator.add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">//System.out.println(add);</span></span><br><span class="line">        <span class="comment">//断言： 可使用断言操作处理结果：</span></span><br><span class="line">        Assertions.assertEquals(<span class="number">3</span>, add);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">subTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Calculator calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">        <span class="keyword">int</span> sub = calculator.sub(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(sub);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2、Junit5-更新"><a href="#2、Junit5-更新" class="headerlink" title="2、Junit5 更新"></a>2、Junit5 更新</h3><table><thead><tr><th align="left">特性</th><th align="center">Junit 4</th><th align="center">Junit 5</th></tr></thead><tbody><tr><td align="left">1、在当前类的所有测试方法之前执行。<br />2、注解在<strong>静态</strong>方法上。<br />3、此方法可以包含一些初始化代码。</td><td align="center">@BeforeClass</td><td align="center">@BeforeAll</td></tr><tr><td align="left">1、在当前类中的所有测试方法之后执行。 <br />2、注解在<strong>静态</strong>方法上。<br />3、此方法可以包含一些清理代码。</td><td align="center">@AfterClass</td><td align="center">@AfterAll</td></tr><tr><td align="left">1、在每个测试方法之前执行。<br />2、注解在<strong>非静态</strong>方法上。 <br />3、可以重新初始化测试方法所需要使用的类的某些属性。</td><td align="center">@Before</td><td align="center">@BeforeEach</td></tr><tr><td align="left">1、在每个测试方法之后执行。 <br />2、注解在<strong>非静态</strong>方法上。 <br />3、可以回滚测试方法引起的数据库修改。</td><td align="center">@After</td><td align="center">@AfterEach</td></tr></tbody></table><p><code>demo/vacation/junit/Junit5.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.junit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Junit5</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeAll</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@BeforeAll executed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setupThis</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@BeforeEach executed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Tag</span>(<span class="string">"DEV"</span>)</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testCalcOne</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"======TEST ONE EXECUTED======="</span>);</span><br><span class="line">        Assertions.assertEquals(<span class="number">4</span>, Calculator.add(<span class="number">2</span>, <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Tag</span>(<span class="string">"PROD"</span>)</span><br><span class="line">    <span class="meta">@Disabled</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testCalcTwo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"======TEST TWO EXECUTED======="</span>);</span><br><span class="line">        Assertions.assertEquals(<span class="number">6</span>, Calculator.add(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">tearThis</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@AfterEach executed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">tear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"@AfterAll executed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>BeforeAll和@AfterAll用于非static方法的场景</p></blockquote><p>在写测试尤其是基于spring boot的integration test的时候，我们常常需要通过注入的方式来初始化一些对象，当我们又想把这些对象在测试之前初始化时，就会发现对于注入的对象，只能将其放在非static的方法当中，根本原因在于spring的依赖注入实现原理。</p><p>但是将<code>@beforeAll</code>和<code>@AfterAll</code>放在非static方法上的时候却会报错。</p><p>为此，我们可以使用<code>@TestInstance</code>注解配置测试的生命周期。 如果我们不在测试类中声明它，则默认情况下，生命周期模式将为<strong>PER_METHOD</strong>。</p><p>为了防止我们的测试类抛出JUnitException，<code>@TestInstance（TestInstance.Lifecycle.PER_CLASS）</code>对其进行注释。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestInstance</span>(TestInstance.Lifecycle.PER_CLASS)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeforeAndAfterAnnotationsUnitTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    String input;</span><br><span class="line">    Long result;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@BeforeAll</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        input = <span class="string">"77"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@AfterAll</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teardown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        input = <span class="keyword">null</span>;</span><br><span class="line">        result = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenConvertStringToLong_thenResultShouldBeLong</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        result = Long.valueOf(input);</span><br><span class="line">        Assertions.assertEquals(<span class="number">77l</span>, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JAVA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JAVA </tag>
            
            <tag> Junit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC相关内容</title>
      <link href="/2021/08/13/JDBC%E7%9B%B8%E5%85%B3/"/>
      <url>/2021/08/13/JDBC%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">            <i class="fa fa-quote-left"></i>            <p>“JDBC:<code>java database connectivity</code> 待补充🤐。”</p>            <i class="fa fa-quote-right"></i>          </blockquote><a id="more"></a><h1 id="JDBC-相关内容"><a href="#JDBC-相关内容" class="headerlink" title="JDBC 相关内容"></a>JDBC 相关内容</h1><h2 id="1、JDBC-介绍"><a href="#1、JDBC-介绍" class="headerlink" title="1、JDBC 介绍"></a>1、JDBC 介绍</h2><h3 id="1-1-、JDBC简介"><a href="#1-1-、JDBC简介" class="headerlink" title="1.1  、JDBC简介"></a>1.1  、JDBC简介</h3><p>JDBC<code>(java database connectivity)</code>为java开发者使用数据库提供了统一的编程接口，它由一组java类和接口组成。</p><p>JDBC需要用到的类和接口有:</p><p><code>DriverManager</code>、<code>Connection</code>、<code>Statement</code>、<code>ResultSet</code> 。  </p><h3 id="1-2-、mysql-connector-java-下载"><a href="#1-2-、mysql-connector-java-下载" class="headerlink" title="1.2 、mysql-connector-java 下载"></a>1.2 、mysql-connector-java 下载</h3><p>进入<a href="https://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/connector/j/</a>下载mysql-connector-java.jar包,用于连接mysql。<br><img src="https://img-blog.csdnimg.cn/71dfb3c7a3104977bde95aeb9fccdcb1.png" alt=""><br>下载解压后,找到<code>mysql-connector-java-8.0.19.jar</code>:</p><p>在eclipse 项目中如果使用则将jar 包拖进  <code>src</code> 新建的<code>lib</code>文件夹下，重点在于<strong>构建路径</strong>：添加到项目中。(IDEA 中 亦如是)</p><h3 id="1-3、JDBC-操作步骤："><a href="#1-3、JDBC-操作步骤：" class="headerlink" title="1.3、JDBC 操作步骤："></a>1.3、JDBC 操作步骤：</h3><blockquote><p>JDBC的一个类和三个接口：</p></blockquote><ol><li><p>加载数据库驱动程序，加载的时候需要将驱动程序配置到classpath之中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载一下这个类就可以注册驱动,</span></span><br><span class="line"><span class="comment">//mysql Driver类的静态代码块中已经调用了registerDriver()来注册驱动程序.</span></span><br><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line"><span class="comment">//不推荐：DriverManager.registerDriver(new com.mysql.jdbc.Driver());</span></span><br><span class="line"><span class="comment">//驱动被注册两次，强烈依赖数据库的驱动jar包</span></span><br></pre></td></tr></table></figure></li><li><p>连接数据库，通过<code>Connection</code> 接口和 <code>DriverManager</code> 类完成</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意三个静态参数</span></span><br><span class="line">Connection connection = DriverManager.getConnection(url,user,pwd);</span><br></pre></td></tr></table></figure></li><li><p>操作数据库，通过<code>Statement</code>、<code>PreparedStatement</code>、<code>ResultSet</code> 三个接口完成</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两者 参数不同： 调用执行语句的方式也不同：前者需要添加</span></span><br><span class="line">statement = connection.createStatement();</span><br><span class="line">resultSet = statement.executeQuery(sql);</span><br><span class="line">PreparedStatement preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">preparedStatement.setString(<span class="number">1</span>, columnLabel);</span><br></pre></td></tr></table></figure></li><li><p>关闭数据库，在实际开发中数据库资源非常有限，操作完之后必须关闭</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//工具类下面直接调用：</span></span><br><span class="line">JDBCUtils.releaseResc(resultSet, statement, connection);</span><br></pre></td></tr></table></figure></li></ol><h2 id="2、JDBC-的细节处理："><a href="#2、JDBC-的细节处理：" class="headerlink" title="2、JDBC 的细节处理："></a>2、JDBC 的细节处理：</h2><h3 id="2-1、JDBCUtils-工具类实现："><a href="#2-1、JDBCUtils-工具类实现：" class="headerlink" title="2.1、JDBCUtils 工具类实现："></a>2.1、JDBCUtils 工具类实现：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//静态语句块：连接驱动这件事，自己执行。</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String driver;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String user;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String pwd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        </span><br><span class="line">        driver = <span class="string">"com.mysql.cj.jdbc.Driver"</span>;</span><br><span class="line">        url = <span class="string">"jdbc:mysql://localhost:3306/studentms?characterEcoding=utf-8&amp;"</span>    </span><br><span class="line">                + <span class="string">"useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true"</span>;</span><br><span class="line">        user = <span class="string">"root"</span>;</span><br><span class="line">        pwd = <span class="string">""</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//使用静态函数： 直接进行相关的调用</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getMysqlConn</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">//注册驱动：</span></span><br><span class="line">             Class.forName(driver);</span><br><span class="line">      <span class="comment">// 获得链接</span></span><br><span class="line">             Connection connection = DriverManager.getConnection(url,user,pwd);</span><br><span class="line">             <span class="keyword">return</span> connection;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关闭资源： 关闭使用到的资源 函数的重载</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(ResultSet rs,PreparedStatement ps,Connection connection)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(rs!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ps!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                ps.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(connection!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(PreparedStatement ps,Connection connection)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ps!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                ps.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(connection!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Connection connection)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(connection!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>亦可以使用 <code>db.properties</code>   辅助实现：properties.getProperty(“driver”);</p><p>相关博客: 拓展<a href="https://blog.csdn.net/w410589502/article/details/52485580" target="_blank" rel="noopener">java 读取properties配置文件</a>；<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1265119084411136" target="_blank" rel="noopener">廖雪峰官网</a>。</p></blockquote><p><code>JDBCUtils.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.jdbcutils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String username;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//JDBCUtils.class 获得对象</span></span><br><span class="line">        <span class="comment">//getClassLoader() 类加载器</span></span><br><span class="line">        <span class="comment">//getResourceAsStream("配置文件所处位置") 加载资源文件放入到流中</span></span><br><span class="line">        InputStream resourceAsStream = JDBCUtils.class.getClassLoader().getResourceAsStream("demo/vacation/jdbcutils/db.properties");</span><br><span class="line">        <span class="comment">//创建properties 对象：调用load</span></span><br><span class="line">        Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(resourceAsStream);</span><br><span class="line">            driver = properties.getProperty(<span class="string">"driver"</span>);</span><br><span class="line">            url = properties.getProperty(<span class="string">"url"</span>);</span><br><span class="line">            username = properties.getProperty(<span class="string">"username"</span>);</span><br><span class="line">            password = properties.getProperty(<span class="string">"password"</span>);</span><br><span class="line">            <span class="comment">//加载驱动类：Class大写</span></span><br><span class="line">            Class.forName(driver);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"加载失败"</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭资源不再写；同上</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(PreparedStatement ps,Connection connection)</span></span>&#123;</span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">//可以编写测试类哦：</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection = JDBCUtils.getConnection();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Statement statement = connection.createStatement();</span><br><span class="line">            ResultSet resultSet = statement.executeQuery(<span class="string">"select * from user"</span>);</span><br><span class="line">            <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">                System.out.println(resultSet.getString(<span class="string">"uname"</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>db.properties</code></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/studentms?characterEcoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">???</span></span><br></pre></td></tr></table></figure><h3 id="2-2、常见的方法："><a href="#2-2、常见的方法：" class="headerlink" title="2.2、常见的方法："></a>2.2、常见的方法：</h3><h4 id="ResultSet-封装结果集"><a href="#ResultSet-封装结果集" class="headerlink" title="ResultSet 封装结果集:"></a>ResultSet 封装结果集:</h4><ul><li>提供一个游标，默认游标指向结果集第一行之前 </li><li>调用一次next()，游标向下移动一行 </li><li>提供一些get方法</li></ul><p><strong>ResultSet 封装数据的方法</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Object <span class="title">getObject</span><span class="params">(<span class="keyword">int</span> columnIndex)</span></span>; 　　根据序号取值，索引从<span class="number">1</span>开始</span><br><span class="line"><span class="function">Object <span class="title">getObject</span><span class="params">(String ColomnName)</span></span>; 　　根据列名取值</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">next</span><span class="params">()</span> 　　将光标从当前位置向下移动一行</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getInt</span><span class="params">(<span class="keyword">int</span> colIndex)</span> 　　　　  以<span class="keyword">int</span>形式获取ResultSet结果集当前行指定列号值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String colLabel)</span>　　   以<span class="keyword">int</span>形式获取ResultSet结果集当前行指定列名值</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">getFloat</span><span class="params">(<span class="keyword">int</span> colIndex)</span> 　 　以<span class="keyword">float</span>形式获取ResultSet结果集当前行指定列号值</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">getFloat</span><span class="params">(String colLabel)</span>　 以<span class="keyword">float</span>形式获取ResultSet结果集当前行指定列名值</span></span><br><span class="line"><span class="function">String <span class="title">getString</span><span class="params">(<span class="keyword">int</span> colIndex)</span> 　 以String 形式获取ResultSet结果集当前行指定列号值</span></span><br><span class="line"><span class="function">String <span class="title">getString</span><span class="params">(String colLabel)</span> 以String形式获取ResultSet结果集当前行指定列名值</span></span><br><span class="line"><span class="function">Date <span class="title">getDate</span><span class="params">(<span class="keyword">int</span> columnIndex)</span></span>;  </span><br><span class="line"><span class="function">Date <span class="title">getDate</span><span class="params">(String columnName)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> 　　关闭ResultSet 对象</span></span><br></pre></td></tr></table></figure><p><strong>MySQL数据库中的数据类型和Java中的数据类型对应关系：</strong><br><img src="https://img-blog.csdnimg.cn/1db5bfff05034af2b027b6329cca646f.png" alt=""></p><p><strong>可移动游标的方法</strong>:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="function"><span class="keyword">boolean</span> <span class="title">next</span><span class="params">()</span>  将光标从当前位置向下移一行。 </span></span><br><span class="line"><span class="function">　　<span class="keyword">boolean</span> <span class="title">previous</span><span class="params">()</span> 将光标移动到此 ResultSet 对象的上一行。 </span></span><br><span class="line"><span class="function">　　<span class="keyword">boolean</span> <span class="title">absolute</span><span class="params">(<span class="keyword">int</span> row)</span> 参数是当前行的索引，从1开始。根据行的索引定位移动的指定索引行。</span></span><br><span class="line"><span class="function">　　<span class="keyword">void</span> <span class="title">afterLast</span><span class="params">()</span> 将光标移动到末尾，正好位于最后一行之后。 </span></span><br><span class="line"><span class="function">　　<span class="keyword">void</span> <span class="title">beforeFirst</span><span class="params">()</span> 将光标移动到开头，正好位于第一行之前。</span></span><br></pre></td></tr></table></figure><h4 id="Statement和PrepareStatment"><a href="#Statement和PrepareStatment" class="headerlink" title="Statement和PrepareStatment"></a>Statement和PrepareStatment</h4><blockquote><p>关系：PreparedStatement继承自Statement,都是接口。</p><p>区别：PreparedStatement可以使用占位符，是预编译的，批处理比Statement效率高。</p></blockquote><p><strong>实例区别:</strong></p><p>1）背景：有一个数据库，里面有个tb_users表，有id，name和passwd三列，然后按照给定的name和password值进行数据查询。</p><p>　　　　使用Statement查询：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　　　sql=<span class="string">"select * from tb_users where name='"</span>+name+<span class="string">"' and passwd='"</span>+passwd+<span class="string">"'"</span>;</span><br><span class="line">　　　　stmt=conn.createStatement();</span><br><span class="line">　　　　rs=stmt.executeQuery(sql);</span><br></pre></td></tr></table></figure><p>　　　　使用PrepareStatement查询：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">　　　　sql=<span class="string">"select * from tb_users where username=? and userpwd=?"</span>;</span><br><span class="line">　　　　pstmt=conn.prepareStatement(sql);</span><br><span class="line">　　　　pstmt.setString(<span class="number">1</span>,name);</span><br><span class="line">　　　　pstmt.setString(<span class="number">2</span>,passwd);</span><br><span class="line">　　　　rs=pstmt.executeQuery();</span><br></pre></td></tr></table></figure><p>2）有一个数据库表tb_books，包含id，name，author，price四列，向该表中插入数据。</p><p>　　　　使用Statement：注意此时SQL语句的书写规范。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　　　sql=<span class="string">"insert into tb_books(id,name,author,price) values('"</span>+id+<span class="string">"','"</span>+name+<span class="string">"',"</span>+author+<span class="string">",'"</span>+price+<span class="string">"')"</span>;</span><br><span class="line">　　　　stmt = conn.createStatement();  </span><br><span class="line">　　　　stmt.executeUpdate(sql);</span><br></pre></td></tr></table></figure><p>　　　　使用PrepareStatement：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　　　　<span class="built_in">String</span> sql=<span class="string">"insert into book(id,name,author,price) values (?,?,?,?)"</span>;  </span><br><span class="line">　　　　pstmt = conn.prepareStatement(sql);  </span><br><span class="line">　　　　pstmt.setString(<span class="number">1</span>,var1);</span><br><span class="line">　　　　pstmt.setString(<span class="number">2</span>,var2);</span><br><span class="line">　　　　pstmt.setString(<span class="number">3</span>,var3);</span><br><span class="line">　　　　pstmt.setString(<span class="number">4</span>,var4);</span><br><span class="line">　　　　pstmt.executeUpdate();</span><br></pre></td></tr></table></figure><h4 id="PrepareStatement的优点"><a href="#PrepareStatement的优点" class="headerlink" title="PrepareStatement的优点"></a><strong>PrepareStatement的优点</strong></h4><p>　　1）PrepareStatement可以提高代码的可读性</p><p>　　2）ParperStatement提高了代码的灵活性和执行效率</p><p>　　　 PrepareStatement接口是Statement接口的子接口，他继承了Statement接口的所有功能。它主要是拿来解决我们使用Statement对象多次执行同一个SQL语句的效率问题的。 　　 ParperStatement接口的机制是在数据库支持预编译的情况下预先将SQL语句编译，当多次执行这条SQL语句时，可以直接执行编译好的SQL语句，这样就大大提高了程序的灵活性和执行效率。</p><p>　　3）使用PrepareStatement比Statement安全　</p><p>　　　　举例：用户登录时进行密码验证</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　　　sql=<span class="string">"select * from tb_users where name= '"</span>+name+<span class="string">"' and passwd='"</span>+passwd+<span class="string">"'"</span>;</span><br><span class="line">　　　　stmt = conn.createStatement();  </span><br><span class="line">　　　　rs = stmt.executeUpdate(sql);</span><br></pre></td></tr></table></figure><p>　　　　上面是登录时进行用户名和密码的验证，但是当把‘’or ’1’=’’1’作为密码传递进去会发现如下的SQL语句：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　　　select * <span class="keyword">from</span> user where username = <span class="string">'user'</span> and userpwd=<span class="string">''</span> or <span class="string">'1'</span>=<span class="string">'1'</span>;</span><br></pre></td></tr></table></figure><p>　　　　上面的SQL语句是个永真式。所以不管怎么样都能获取到权限，这还不是最坏的情况。</p><p>　　　　当把’or ‘1’=1’;drop table tb_book;当成密码传进去时，会直接删除数据库表，这样的SQL语句就非常的不安全。</p><p>　　　　所以使用PrepareStatement可以解决SQL注入攻击的问题</p><p>mt.executeUpdate(sql); </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">　　　　上面是登录时进行用户名和密码的验证，但是当把‘’or ’1’&#x3D;’’1’作为密码传递进去会发现如下的SQL语句：</span><br><span class="line"></span><br><span class="line">​&#96;&#96;&#96;javascript</span><br><span class="line">　　　　select * from user where username &#x3D; &#39;user&#39; and userpwd&#x3D;&#39;&#39; or &#39;1&#39;&#x3D;&#39;1&#39;;</span><br></pre></td></tr></table></figure><p>　　　　上面的SQL语句是个永真式。所以不管怎么样都能获取到权限，这还不是最坏的情况。</p><p>　　　　当把’or ‘1’=1’;drop table tb_book;当成密码传进去时，会直接删除数据库表，这样的SQL语句就非常的不安全。</p><p>　　　　所以使用PrepareStatement可以解决SQL注入攻击的问题</p>]]></content>
      
      
      <categories>
          
          <category> JAVA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JDBC </tag>
            
            <tag> JAVA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCODE 配置 C/C++ 环境的备份</title>
      <link href="/2021/08/09/%E5%A4%87%E4%BB%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
      <url>/2021/08/09/%E5%A4%87%E4%BB%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">            <i class="fa fa-quote-left"></i>            <p>“<code>VsCode</code>上的两个重要的配置文件夹😅。”</p>            <i class="fa fa-quote-right"></i>          </blockquote><a id="more"></a><blockquote><p>仅作 VSCODE 配置 C/C++ 环境的备份。</p></blockquote><p><code>launch.json:</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;  </span><br><span class="line">        <span class="attr">"version"</span>: <span class="string">"0.2.0"</span>,  </span><br><span class="line">     <span class="attr">"configurations"</span>: [  </span><br><span class="line">            &#123;  </span><br><span class="line">             <span class="attr">"name"</span>: <span class="string">"(gdb) Launch"</span>, <span class="comment">// 配置名称，将会在启动配置的下拉菜单中显示  </span></span><br><span class="line">                <span class="attr">"type"</span>: <span class="string">"cppdbg"</span>,       <span class="comment">// 配置类型，这里只能为cppdbg  </span></span><br><span class="line">             <span class="attr">"request"</span>: <span class="string">"launch"</span>,    <span class="comment">// 请求配置类型，可以为launch（启动）或attach（附加）  </span></span><br><span class="line">               <span class="attr">"program"</span>: <span class="string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.exe"</span>,<span class="comment">// 将要进行调试的程序的路径  </span></span><br><span class="line">                <span class="attr">"args"</span>: [],             <span class="comment">// 程序调试时传递给程序的命令行参数，一般设为空即可  </span></span><br><span class="line">                <span class="attr">"stopAtEntry"</span>: <span class="literal">false</span>,   <span class="comment">// 设为true时程序将暂停在程序入口处，一般设置为false  </span></span><br><span class="line">             <span class="attr">"cwd"</span>: <span class="string">"$&#123;workspaceFolder&#125;"</span>, <span class="comment">// 调试程序时的工作目录，一般为$&#123;workspaceFolder&#125;即代码所在目录  </span></span><br><span class="line">                <span class="attr">"environment"</span>: [],  </span><br><span class="line">             <span class="attr">"externalConsole"</span>: <span class="literal">true</span>, <span class="comment">// 调试时是否显示控制台窗口，一般设置为true显示控制台  </span></span><br><span class="line">                <span class="attr">"MIMode"</span>: <span class="string">"gdb"</span>,  </span><br><span class="line">             <span class="attr">"miDebuggerPath"</span>: <span class="string">"D:\\VSCode\\environment\\mingw64\\bin\\gdb.exe"</span>, <span class="comment">// miDebugger的路径，注意这里要与MinGw的路径对应  </span></span><br><span class="line">                <span class="attr">"preLaunchTask"</span>: <span class="string">"g++"</span>, <span class="comment">// 调试会话开始前执行的任务，一般为编译程序，c++为g++, c为gcc  </span></span><br><span class="line">             <span class="attr">"setupCommands"</span>: [  </span><br><span class="line">                    &#123;   </span><br><span class="line">                <span class="attr">"description"</span>: <span class="string">"Enable pretty-printing for gdb"</span>,  </span><br><span class="line">                        <span class="attr">"text"</span>: <span class="string">"-enable-pretty-printing"</span>,  </span><br><span class="line">                        <span class="attr">"ignoreFailures"</span>: <span class="literal">true</span>  </span><br><span class="line">                    &#125;  </span><br><span class="line">                ]  </span><br><span class="line">            &#125;  </span><br><span class="line">        ]  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>tasks.json:</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// See https://go.microsoft.com/fwlink/?LinkId=733558 </span></span><br><span class="line">    <span class="comment">// for the documentation about the tasks.json format</span></span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"2.0.0"</span>,</span><br><span class="line">    <span class="attr">"tasks"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"shell"</span>,</span><br><span class="line">            <span class="attr">"label"</span>: <span class="string">"g++"</span>, <span class="comment">//这里注意一下，见下文</span></span><br><span class="line">            <span class="attr">"command"</span>: <span class="string">"D:\\VSCode\\environment\\mingw64\\bin\\g++.exe"</span>,</span><br><span class="line">            <span class="attr">"args"</span>: [</span><br><span class="line">                <span class="string">"-g"</span>,</span><br><span class="line">                <span class="string">"$&#123;file&#125;"</span>,</span><br><span class="line">                <span class="string">"-o"</span>,</span><br><span class="line">                <span class="string">"$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe"</span>,</span><br><span class="line">                <span class="string">"-ggdb3"</span>,   <span class="comment">// 生成和调试有关的信息</span></span><br><span class="line">                <span class="string">"-Wall"</span>,    <span class="comment">// 开启额外警告</span></span><br><span class="line">                <span class="string">"-static-libgcc"</span>,   <span class="comment">// 静态链接</span></span><br><span class="line">                <span class="string">"-std=c++17"</span>,       <span class="comment">// 使用c++17标准</span></span><br><span class="line">                <span class="string">"-finput-charset=UTF-8"</span>,    <span class="comment">//输入编译器文本编码 默认为UTF-8</span></span><br><span class="line">                <span class="string">"-fexec-charset=GB18030"</span>,   <span class="comment">//输出exe文件的编码</span></span><br><span class="line">                <span class="string">"-D _USE_MATH_DEFINES"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"options"</span>: &#123;</span><br><span class="line">                <span class="attr">"cwd"</span>: <span class="string">"D:\\VSCode\\environment\\mingw64\\bin"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"problemMatcher"</span>: [</span><br><span class="line">                <span class="string">"$gcc"</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"presentation"</span>: &#123;</span><br><span class="line">                <span class="attr">"echo"</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">"reveal"</span>: <span class="string">"always"</span>, <span class="comment">// 在“终端”中显示编译信息的策略，可以为always，silent，never</span></span><br><span class="line">                 <span class="attr">"focus"</span>: <span class="literal">false</span>,</span><br><span class="line">                 <span class="attr">"panel"</span>: <span class="string">"shared"</span> <span class="comment">// 不同的文件的编译信息共享一个终端面板</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <code>settings.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"files.associations"</span>: &#123;</span><br><span class="line">        <span class="attr">"iostream"</span>: <span class="string">"cpp"</span>,</span><br><span class="line">        <span class="attr">"stdlib.h"</span>: <span class="string">"c"</span>,</span><br><span class="line">        <span class="attr">"queue"</span>: <span class="string">"cpp"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSOCODE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于 Github/Gitee Pages 服务 + Hexo 框架搭建静态博客</title>
      <link href="/2020/07/05/Blog/"/>
      <url>/2020/07/05/Blog/</url>
      
        <content type="html"><![CDATA[<h2 id="前言：要知道些什么呢？"><a href="#前言：要知道些什么呢？" class="headerlink" title="前言：要知道些什么呢？"></a>前言：要知道些什么呢？</h2><h3 id="一：Pages-服务是啥"><a href="#一：Pages-服务是啥" class="headerlink" title="一：Pages 服务是啥:"></a><code>一：Pages 服务是啥:</code></h3><blockquote><p>代码托管网站将用户的仓库文件以网页形式发布，这就是「Pages」。在 Pages 服务中，代码仓库中的是网站的源文件，托管平台的服务器扮演了远程主机的角色，为了让网页能够正常访问，托管平台提供域名、证书等「配件」。利用这一服务，开发者可以高效地建立项目主页，或者个人博客。</p></blockquote><a id="more"></a><p>在国内提供 Pages 服务的代码托管平台主要有微软旗下的 <code>GitHub</code>，开源中国旗下的 <code>Gitee</code> (码云)和与腾讯合作的 <code>Coding</code>。三个平台的基础功能包括 Pages 的使用都是<strong>免费</strong>的🙄。</p><p>开通条件如下：</p><p><img src="https://img-blog.csdnimg.cn/20200705123331612.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>配套服务对比表格如下：<img src="https://img-blog.csdnimg.cn/20200705123422522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt="">)访问体验：<img src="https://img-blog.csdnimg.cn/20200705123513487.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>配套服务对比表格如下：<br><img src="https://img-blog.csdnimg.cn/20200705123633275.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>综上，<code>GitHub</code>除了访问速度比较慢（地区差异，博主使用<code>GitHub</code>部署的访问速度还可以：静态网站不同于动态。）优势比较明显：自定义域名不收费，自己购买的域名不同于<code>gitee</code>通过收费获得自定义域名功能之后还需要进行’’复杂漫长’’的备案环节；自动化部署，通过git上传到库就不用自己手动更新了，不像隔壁的gitee花钱。😅Coding因为它<strong>容易崩</strong>，更重要的是我没实际操作过。</p><h3 id="二：Hexo-框架又是个啥："><a href="#二：Hexo-框架又是个啥：" class="headerlink" title="二：Hexo 框架又是个啥："></a><code>二：Hexo 框架又是个啥</code>：</h3><blockquote><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p></blockquote><p>Hexo 官方提供了各式各样的主题，而且使用人数很多，以后遇到问题或者是有关博客的美化环节可以借鉴他人的相关操作。且有很多插件可以使用，持支一键部署；可以去<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo官网</a>了解呀。</p><h2 id="正式开始建站啦："><a href="#正式开始建站啦：" class="headerlink" title="正式开始建站啦："></a>正式开始建站啦：</h2><h3 id="一：环境的配置："><a href="#一：环境的配置：" class="headerlink" title="一：环境的配置："></a><code>一：环境的配置：</code></h3><p>必要的环境的配置：Git方便我们把本地文件部署到GitHub；Hexo是一个<strong>基于Node.js</strong>的静态博客框架，因此需要先安装<strong>Node.js环境</strong></p><h4 id="1、安装Node-js"><a href="#1、安装Node-js" class="headerlink" title="1、安装Node.js"></a>1、安装Node.js</h4><p><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js官网</a>：按照默认步骤进行安装<br><img src="https://img-blog.csdnimg.cn/20200705123657111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><h4 id="2、安装Git"><a href="#2、安装Git" class="headerlink" title="2、安装Git:"></a>2、安装Git:</h4><p>进入Git官网<a href="https://git-scm.com/" target="_blank" rel="noopener">Git官网</a>，点击 <strong><em>Downloads</em></strong> 下载：<br><img src="https://img-blog.csdnimg.cn/20200705123723680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>参考资料😏：<a href="https://www.cnblogs.com/jytx/p/5602927.html" target="_blank" rel="noopener">《如何在windows下安装GIT》</a><br>　　　      　　<a href="http://git.oschina.net/progit/" target="_blank" rel="noopener">《Pro Git（中文版）》</a></p><p><strong>检验Git是否安装成功：</strong></p><p>同时按下 Win 键和 R 键打开运行窗口,输入 cmd ，然后输入以下命令，有相应版本信息显示则安装成功，若不正确可以卸载软件重新安装，此外若安装成功，在桌面右键鼠标，可以看到菜单里多了 <code>Git GUI Here</code> 和 <code>Git Bash Here</code>两个选项，第一个是图形界面的Git操作，另一个是命令行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git --version  </span><br><span class="line">$ node -v  </span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200705123744226.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><h4 id="3、安装Hexo并初始化："><a href="#3、安装Hexo并初始化：" class="headerlink" title="3、安装Hexo并初始化："></a>3、安装Hexo并初始化：</h4><p>选择一个磁盘，新建一个文件夹，自己重命名文件夹（如：Blog），博客相关文件将储存在此文件夹下，在该文件夹下右键鼠标，点击 <code>Git Bash Here</code>，输入以下 npm 命令即可安装，第一个命令表示安装 hexo，第二个命令表示安装 hexo 部署到 git page 的 deployer（插件），如图所示即为安装成功</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g  </span><br><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200705123825686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>Hexo 初始化配置：</strong></p><p>进入我们刚创建的Blog文件夹下鼠标右击，点击Git Bash Here，输入 <code>hexo init</code>命令：<br><img src="https://img-blog.csdnimg.cn/20200705123911635.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>Hexo 安装完成后，将会在指定文件夹中新建所需要的文件，Hexo 文件夹下的目录如下：<img src="https://img-blog.csdnimg.cn/20200705123928739.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><p><strong>查看本地效果：</strong></p><p>执行以下命令，执行完即可登录 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 查看效果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate  </span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>显示以下信息说明操作成功：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Hexo is running at http:&#x2F;&#x2F;0.0.0.0:4000&#x2F;. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>登录 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 查看效果：<img src="https://img-blog.csdnimg.cn/20200705123953269.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="二：将博客部署到-Github-gitee-Pages-上"><a href="#二：将博客部署到-Github-gitee-Pages-上" class="headerlink" title="二：将博客部署到 Github/gitee Pages 上"></a><code>二：将博客部署到 Github/gitee Pages 上</code></h3><p>到目前为止，我们的本地博客就成功搭建了，但是现在我们只能通过本地连接查看博客，我们要做的是让其他人也能够访问我们的博客，这就需要我们将博客部署到Github Pages上。</p><h4 id="1、注册GitHub-gitee-账户："><a href="#1、注册GitHub-gitee-账户：" class="headerlink" title="1、注册GitHub /gitee 账户："></a>1、注册GitHub /gitee 账户：</h4><blockquote><p>你肯定会😁  <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>  <a href="https://gitee.com/" target="_blank" rel="noopener">Gitee</a></p></blockquote><h4 id="2、创建项目代码库"><a href="#2、创建项目代码库" class="headerlink" title="2、创建项目代码库"></a>2、创建项目代码库</h4><p>点击 <strong>New repository</strong> 开始创建，步骤及注意事项见下图：（gitee 差不多）<img src="https://img-blog.csdnimg.cn/20200705124025875.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><h4 id="3、配置-SSH-密钥"><a href="#3、配置-SSH-密钥" class="headerlink" title="3、配置 SSH 密钥"></a>3、配置 SSH 密钥</h4><blockquote><p>通过配置 SSH 密钥我们能够更方便的实现本地代码库与 Github 代码库同步；当然，您也可以选择不配置SSH密钥而使用HTTPS连接来部署Blog，副作用是<strong>每次</strong>提交都需要输入托管网站的账号密码。</p></blockquote><p>我们在新建的文件夹（Blog)中右键打开 Git Bash：输入 <code>ssh-keygen -t rsa</code> 命令<strong>（注意空格）</strong>，表示我们指定 RSA 算法生成密钥，<strong>然后敲四次回车键</strong>，之后就就会生成两个文件，分别为秘钥 id_rsa 和公钥 id_rsa.pub. 文件的位置在 Git Bash 上面都有显示，默认生成在以下目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Linux 系统：~&#x2F;.ssh</span><br><span class="line">Mac 系统：~&#x2F;.ssh</span><br><span class="line">Windows 10 ：C:&#x2F;Users&#x2F;用户名&#x2F;.ssh</span><br></pre></td></tr></table></figure><blockquote><p>在 GitHub 账户中添加你的公钥： </p></blockquote><p><strong>① 登陆 GitHub，进入 Settings：</strong><br><img src="https://img-blog.csdnimg.cn/20200705124112852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>②选择选择 New SSH key：</strong><br><img src="https://img-blog.csdnimg.cn/20200705124153274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>③将复制的公钥 id_rsa.pub 的内容粘贴到 key 内，再点击 Add SSH key如下图：</strong><br><img src="https://img-blog.csdnimg.cn/20200705124212836.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>④测试：我们可以通过在 Git Bash 中输入 <code>ssh -T git@github.com</code> 进行检验：</strong><br><img src="https://img-blog.csdnimg.cn/20200705124231230.png" alt="">输入 yes 后会显示：<img src="https://img-blog.csdnimg.cn/20200705124411678.png" alt=""></p><p><strong>⑤配置个人git 信息</strong></p><p>Git 会根据用户的名字和邮箱来记录提交，GitHub 也是用这些信息来做权限的处理，输入以下命令进行个人信息的设置，把名称和邮箱替换成你自己的，名字可以不是 GitHub 的昵称，但为了方便记忆，建议与 GitHub 一致。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;此处填你的用户名&quot;  </span><br><span class="line">$ git config --global user.email  &quot;此处填你的邮箱&quot;</span><br></pre></td></tr></table></figure><p>到此为止 SSH Key 配置成功，本机已成功连接到 Github。</p><h4 id="4、将本地的-Hexo-文件更新到-GitHub-的库中"><a href="#4、将本地的-Hexo-文件更新到-GitHub-的库中" class="headerlink" title="4、将本地的 Hexo 文件更新到 GitHub 的库中"></a>4、将本地的 Hexo 文件更新到 GitHub 的库中</h4><p><strong>① 登录 Github 打开自己的项目 your name.github.io</strong></p><p><strong>② 鼠标移到 Clone or download 按钮，选择 Use SSH（假装您配置了SSh:真的方便)</strong><br><img src="https://img-blog.csdnimg.cn/20200705124522852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>③打开你创建的 Blog文件夹，右键用记事本（Notepad++或者VS code等都可以）打开该文件夹下的 _config.yml 文件</strong><br><img src="https://img-blog.csdnimg.cn/20200705124543895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><strong>④配置Hexo:下滑到_config.yml文件底部，填上如下内容：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">🙄假装您配置了SSH密钥：</span><br><span class="line">😑如果仅仅只是用GitHub pages 服务我们可以填写：</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:&#123;yourname&#125;&#x2F;&#123;yourname&#125;.github.io.git  #你的仓库地址SSH </span><br><span class="line">  branch: master</span><br><span class="line">😐GitHub和Gitee都配置（建议，前提你都有仓库了啊）</span><br><span class="line">deploy:</span><br><span class="line">  type: &#39;git&#39;</span><br><span class="line">  repo: </span><br><span class="line">    github: git@github.com:&#123;yourname&#125;&#x2F;&#123;yourname&#125;.github.io.git</span><br><span class="line">    gitee: git@gitee.com:&#123;yourname&#125;&#x2F;&#123;yourname&#125;.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><strong>⑤至此，您已经完成了将Hexo的静态网站同步部署至Github与码云(Gitee)的全部步骤。</strong><br>一如既往，让我们通过。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean   #清除缓存文件 db.json 和已生成的静态文件 public</span><br><span class="line">hexo g       #生成网站静态文件到默认设置的 public 文件夹(hexo generate 的缩写)</span><br><span class="line">hexo d       #自动生成网站静态文件，并部署到设定的仓库(hexo deploy 的缩写)</span><br></pre></td></tr></table></figure><p><strong>⑥访问博客</strong></p><p>你的博客地址：https://你的用户名.github.io，现在每个人都可以通过此链接访问你的博客了。</p><p><strong>⑦写博客</strong></p><p>新建一个空文章，在Blog下 git bash 输入以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n &quot;文章标题&quot;</span><br></pre></td></tr></table></figure><p>程序会在我们的 \Blog\source \ _posts中生成 文章标题.md 文件，用<code>Markdown</code>编辑器修改文章内容即可。</p><p>当我们用编辑器写好文章后，可以使用以下命令将其推送到服务器上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean   </span><br><span class="line">hexo g      </span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p><strong>现在访问你的博客就可以看见写好的文章啦！</strong></p><h3 id="三：博客主题相关："><a href="#三：博客主题相关：" class="headerlink" title="三：博客主题相关："></a><code>三：博客主题相关：</code></h3><blockquote><p>现在博客也搭建好了，但是这样光秃秃的什么也没有不好看，是时候美化一波了！</p></blockquote><h4 id="1、主题选择与更换"><a href="#1、主题选择与更换" class="headerlink" title="1、主题选择与更换"></a>1、主题选择与更换</h4><p>①我们进入Hexo 官网的<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题专栏</a>：<br><img src="https://img-blog.csdnimg.cn/20200705124631211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>②选择一个主题进入其GitHub的仓库 以<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">NexT</a>为例</p><p>打开博客根目录Blog文件夹，右键Git Bash，输入如下代码将next主题下载到目录Blog/themes：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next themes&#x2F;next 克隆这个原始主题库</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020070512470133.png" alt=""><br>③主题和站点的相关配置美化：</p><blockquote><p>先敲响警钟：根目录Blog和主题文件next下都有一个<code>_config.yml</code>的配置文件，区分开来：站点配置文件和主题配置文件。😭不要踩坑 啊</p></blockquote><p>打开根目录下的<code>_config.yml</code>(称为<strong>站点配置文件</strong>)，修改主题（<strong>注意冒号后都要有空格</strong>）：（推荐<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">vscode</a>编辑器）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">🙄看英文单词 ：这是网站标题这一块：</span><br><span class="line"># Site   </span><br><span class="line">title: 好久没读诗了啊</span><br><span class="line">subtitle: 写点什么</span><br><span class="line">description: 昼眠听风，夜坐听雨</span><br><span class="line">keywords:</span><br><span class="line">author: Serendipity</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia&#x2F;Shanghai</span><br><span class="line">🙄网站主题这一块：</span><br><span class="line"># Extensions  </span><br><span class="line">## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;</span><br><span class="line">## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;</span><br><span class="line">theme: next   #主题改为next</span><br><span class="line"> 以后修改站点的配置就可以在这个问价里面修改了</span><br></pre></td></tr></table></figure><p>主题语言主要是看你的themes/next/language中的简体中文是 zh-CN 还是 zh-Hans：<br><img src="https://img-blog.csdnimg.cn/20200705124736979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br>next主题有四种，如下图依次为Muse、Mist、Pisces、Gemini。<br>我选的是Gemini，打开目录Blog/themes/next/下的<code>_config.yml</code>（称为<strong>主题配置文件</strong>），只要将你选的主题前的#删除就行了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini    #这是我选的主题</span><br></pre></td></tr></table></figure><p>回到根目录打开Git Bash，输入如下三条命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>完成后打开你的博客：<img src="https://img-blog.csdnimg.cn/20200705124804910.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><h4 id="2、我踩过的坑："><a href="#2、我踩过的坑：" class="headerlink" title="2、我踩过的坑："></a>2、我踩过的坑：</h4><blockquote><p>其他的美化就可以网上照着弄了就可以了。</p><p>之要每一次更改内容都要以<code>hexo clean</code> <code>hexo g</code> ，然后 <code>hexo s</code>本地预览一下效果是否完成了，一步一步的来，避免慌慌张张思路不清晰的弄坏了配置无法打开了 还得重新开始。😭</p><p>自由发挥吧。。🙄</p></blockquote><h4 id="3、附录："><a href="#3、附录：" class="headerlink" title="3、附录："></a>3、附录：</h4><p><code>持续更新</code></p><p><strong>①购买域名：<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener">阿里云</a>摸索着买。</strong></p><p><strong>②域名的解析：</strong></p><ul><li>登录阿里云，点击控制台，在你已购买的域名后点击解析添加两条解析记录：<br><img src="https://img-blog.csdnimg.cn/20200705124832111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""><br><img src="https://img-blog.csdnimg.cn/20200705124901119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>那个IPV4地址可以通过<code>ping</code>得到，具体方法是：打开cmd输入下面命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 你的账户名.github.io    #ping + 你的GitHub的网址</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200705124919122.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></p><ul><li>打开 Blog 文件夹里的 source 文件夹，添加<code>CNAME</code>文件，可以先创建一个<code>CNAME.tx</code>t文件，打开后写上你的域名，不要加www否则每次访问都必须加www，但如果不带有www，以后访问的时候带不带www都可以访问，保存后记得要重命名，将.txt删除，如下图：<img src="https://img-blog.csdnimg.cn/20200705125000136.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></li><li>第三步回到 Blog 文件夹，右键打开 Git Bash，依次输入下面三条命令：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><ul><li>打开GitHub，看看<code>CNAME</code>文件是否已经在你的项目中，点击 <strong>settings ：</strong><br><img src="https://img-blog.csdnimg.cn/20200705125020483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NlcmVuZGlwaXR5X0g=,size_16,color_FFFFFF,t_70" alt=""></li><li>如果你没有<code>CNAME</code>文件，可以自己在GitHub仓库里面添加这个文件。</li></ul><blockquote><p>🤣哈哈哈哈哈 我觉得图床什么的可以直接把文章先放在CSDN 。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 博客相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好哇</title>
      <link href="/2020/07/02/%E4%BD%A0%E5%A5%BD%E5%93%87/"/>
      <url>/2020/07/02/%E4%BD%A0%E5%A5%BD%E5%93%87/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center">            <i class="fa fa-quote-left"></i>            <p>“感受来自世界每一寸维度的人们各自忙碌充满张力的人间烟火。😋”</p>            <i class="fa fa-quote-right"></i>          </blockquote><a id="more"></a> ]]></content>
      
      
      <categories>
          
          <category> 闲话 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
