<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"serendipity-hzh.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="“Java注解和反射的相关内容☕。”">
<meta property="og:type" content="article">
<meta property="og:title" content="Java注解和反射相关">
<meta property="og:url" content="https://serendipity-hzh.github.io/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/index.html">
<meta property="og:site_name" content="好久没读诗了啊">
<meta property="og:description" content="“Java注解和反射的相关内容☕。”">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/a1c7c05a4e064c06ae0d8dfb292315cd.png">
<meta property="article:published_time" content="2021-08-15T03:54:54.000Z">
<meta property="article:modified_time" content="2021-08-15T04:05:05.452Z">
<meta property="article:author" content="Serendipity">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="Reflection">
<meta property="article:tag" content="Annotation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/a1c7c05a4e064c06ae0d8dfb292315cd.png">

<link rel="canonical" href="https://serendipity-hzh.github.io/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Java注解和反射相关 | 好久没读诗了啊</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?9389b20efe82958d8ae5d327f5ea6eef";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="好久没读诗了啊" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">好久没读诗了啊</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">昼眠听风，夜坐听雨</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://serendipity-hzh.github.io/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Serendipity">
      <meta itemprop="description" content="生于尘埃 溺于人海 死于理想高台">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="好久没读诗了啊">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java注解和反射相关
        </h1>

        <div class="post-meta">
        
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 11:54:54 / 修改时间：12:05:05" itemprop="dateCreated datePublished" datetime="2021-08-15T11:54:54+08:00">2021-08-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index"><span itemprop="name">JAVA</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>“Java注解和反射的相关内容☕。”</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>
<a id="more"></a>

<h2 id="二、注解和反射的概念："><a href="#二、注解和反射的概念：" class="headerlink" title="二、注解和反射的概念："></a>二、注解和反射的概念：</h2><p>补充：<a href="https://www.bilibili.com/video/BV1fh411y7R8?p=711" target="_blank" rel="noopener">韩顺平 讲解 反射：</a></p>
<h3 id="1、反射：-框架设计的灵魂"><a href="#1、反射：-框架设计的灵魂" class="headerlink" title="1、反射： 框架设计的灵魂"></a>1、反射： 框架设计的灵魂</h3><p>框架：半成品软件；可以在框架的基础上进行软件开发，简化编码。</p>
<p>反射：将类的各个组成部分封装为其他对象，这就是反射机制。</p>
<p>反射的好处：</p>
<ol>
<li>可以在程序运行过程中，操作这些对象。</li>
<li>可以解耦，提高程序的可扩展性。</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/a1c7c05a4e064c06ae0d8dfb292315cd.png" alt=""></p>
<h4 id="1-1-获取Class对象的方式："><a href="#1-1-获取Class对象的方式：" class="headerlink" title="1.1 获取Class对象的方式："></a>1.1 获取Class对象的方式：</h4><p>获取Class对象的方式：</p>
<ol>
<li><p><code>Class.forName(&quot;全类名&quot;)</code>：将<strong>字节码文件加载进内存</strong>，返回Class对象</p>
<ul>
<li>多用于配置文件（<strong>全类名</strong>传来字符串），将类名定义在配置文件中。读取文件，加载类</li>
</ul>
</li>
<li><p><code>类名.class</code>：通过类名的<strong>属性class</strong>获取</p>
<ul>
<li>多用于参数的传递</li>
</ul>
</li>
<li><p><code>对象.getClass()</code>：getClass()方法在Object类中定义着。</p>
<ul>
<li>多用于对象的获取字节码的方式</li>
</ul>
</li>
</ol>
<ul>
<li>结论：<br>同一个字节码文件(<em>.class)在一次程序运行过程中，*</em>只会被加载一次<strong>，不论通过哪一种方式</strong>获取的Class对象都是同一个**。</li>
</ul>
<h5 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h5><p><code>ReflectDemo01.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo01</span>  </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     获取Class对象的方式：</span></span><br><span class="line"><span class="comment">     1. Class.forName("全类名")：将字节码文件加载进内存，返回Class对象</span></span><br><span class="line"><span class="comment">     2. 类名.class：通过类名的属性class获取</span></span><br><span class="line"><span class="comment">     3. 对象.getClass()：getClass()方法在Object类中定义着。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//main函数里面进行操作：主函数抛出异常</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1. Class.forName("全类名")：将字节码文件加载进内存，返回Class对象</span></span><br><span class="line">        Class&lt;?&gt; cls01 = Class.forName(<span class="string">"demo.vacation.reflect.Person"</span>);</span><br><span class="line">        System.out.println(cls01);</span><br><span class="line">        <span class="comment">//2. 类名.class：通过类名的属性class获取</span></span><br><span class="line">        Class&lt;Person&gt; cls02 = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        System.out.println(cls02);</span><br><span class="line">        <span class="comment">//3. 对象.getClass()：getClass()方法在Object类中定义着。</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Class&lt;? extends Person&gt; cls03 = person.getClass();</span><br><span class="line">        System.out.println(cls03);</span><br><span class="line">        <span class="comment">//== 比较三个对象: 以内存地址的方式进行比较。</span></span><br><span class="line">        System.out.println(cls01 == cls02);<span class="comment">//true</span></span><br><span class="line">        System.out.println(cls02 == cls03);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        Class&lt;Student&gt; studentClass = Student<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        System.out.println(cls01 == studentClass);<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Person.java</code>  ：实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String a;</span><br><span class="line">    <span class="keyword">protected</span> String b;</span><br><span class="line">    String c;</span><br><span class="line">    <span class="keyword">private</span> String d;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, String age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(String age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age='"</span> + age + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", a='"</span> + a + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", b='"</span> + b + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", c='"</span> + c + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", d='"</span> + d + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"eat.."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"eat..."</span> + food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Student.java</code> ：学生类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"sleep..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-Class-对象的功能："><a href="#1-2-Class-对象的功能：" class="headerlink" title="1.2 Class 对象的功能："></a>1.2 Class 对象的功能：</h4><blockquote>
<p>JDK 文档中 搜索Class 可见所有方法：</p>
</blockquote>
<p><strong>主要为获取功能</strong>：</p>
<ol>
<li><p>获取成员变量们 : </p>
<p>反射私有的也是可以获取的：在这之前忽略访问权限 修饰符的安全检查</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Field[] getFields() ：获取所有<span class="keyword">public</span>修饰的成员变量</span><br><span class="line"><span class="function">Field <span class="title">getField</span><span class="params">(String name)</span>   获取指定名称的 <span class="keyword">public</span>修饰的成员变量</span></span><br><span class="line"><span class="function">Field[] <span class="title">getDeclaredFields</span><span class="params">()</span>  获取所有的成员变量，不考虑修饰符</span></span><br><span class="line"><span class="function">Field <span class="title">getDeclaredField</span><span class="params">(String name)</span>  返回一个 Field对象，它反映此表示的类或接口的指定已声明字段 类对象。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取构造方法们 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Constructor&lt;?&gt;[] getConstructors()  </span><br><span class="line"><span class="function">Constructor&lt;T&gt; <span class="title">getConstructor</span><span class="params">(类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Constructor&lt;T&gt; <span class="title">getDeclaredConstructor</span><span class="params">(类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Constructor&lt;?&gt;[] <span class="title">getDeclaredConstructors</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取成员方法们：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Method[] getMethods()  </span><br><span class="line"><span class="function">Method <span class="title">getMethod</span><span class="params">(String name, 类&lt;?&gt;... parameterTypes)</span>  </span></span><br><span class="line"><span class="function">Method[] <span class="title">getDeclaredMethods</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function">Method <span class="title">getDeclaredMethod</span><span class="params">(String name, 类&lt;?&gt;... parameterTypes)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取全类名：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取方法对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object obj = cls.newInstance() <span class="comment">//创建由此 类对象表示的类的新实例。</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="1-3-被获取的各部分功能："><a href="#1-3-被获取的各部分功能：" class="headerlink" title="1.3 被获取的各部分功能："></a>1.3 被获取的各部分功能：</h4><blockquote>
<p>更多内容 查看JDK文档</p>
</blockquote>
<p><strong>1、Field：成员变量</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 操作：</span><br><span class="line">	<span class="number">1</span>. 设置值</span><br><span class="line">		* <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(Object obj, Object value)</span>  </span></span><br><span class="line"><span class="function">	2. 获取值</span></span><br><span class="line"><span class="function">		* <span class="title">get</span><span class="params">(Object obj)</span> <span class="comment">// 获取成员变量的值 需要传入一个对象</span></span></span><br><span class="line"><span class="function">	3. 忽略访问权限修饰符的安全检查</span></span><br><span class="line"><span class="function">		* <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span>:暴力反射</span></span><br></pre></td></tr></table></figure>

<p><strong>2、Constructor:构造方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* Constructor:构造方法</span><br><span class="line">	* <span class="number">1</span>.创建对象：</span><br><span class="line">		* <span class="function">T <span class="title">newInstance</span><span class="params">(Object... initargs)</span>  </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">		* 如果使用空参数构造方法创建对象，操作可以简化：Class对象的newInstance方法</span></span><br><span class="line"><span class="function">  	* <span class="title">setAccessible</span><span class="params">(<span class="keyword">true</span>)</span>:暴力反射</span></span><br></pre></td></tr></table></figure>

<p><strong>3、Method：方法对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* Method：方法对象</span><br><span class="line">	* 执行方法：invoke 调用</span><br><span class="line">		* <span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span>  </span></span><br><span class="line"><span class="function">	* 获取方法名称：</span></span><br><span class="line"><span class="function">		* String getName:获取方法名</span></span><br></pre></td></tr></table></figure>

<h5 id="相关代码："><a href="#相关代码：" class="headerlink" title="相关代码："></a><strong>相关代码</strong>：</h5><p><code>ReflectDemo02.java</code> : 对应成员变量的相关内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">             1. 获取成员变量们</span></span><br><span class="line"><span class="comment">                 * Field[] getFields()</span></span><br><span class="line"><span class="comment">                 * Field getField(String name)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                 * Field[] getDeclaredFields()</span></span><br><span class="line"><span class="comment">                 * Field getDeclaredField(String name)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.Field[] getFields()获取所有public修饰的成员变量</span></span><br><span class="line">        Field[] fields = personClass.getFields();</span><br><span class="line">        <span class="comment">//IDEA 快捷键 iter</span></span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(field);<span class="comment">// Person.a 变量为public</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"-----2-----"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.Field getField(String name)</span></span><br><span class="line">        <span class="comment">//获取单个public成员变量 a</span></span><br><span class="line">        Field a = personClass.getField(<span class="string">"a"</span>);<span class="comment">//主方法 抛出异常</span></span><br><span class="line">        <span class="comment">//获取成员变量 a 的值</span></span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        Object value = a.get(person);</span><br><span class="line">        System.out.println(value);<span class="comment">// 对象 a 的值 为 null</span></span><br><span class="line">        <span class="comment">//设置a的值：</span></span><br><span class="line">        a.set(person, <span class="string">"value"</span>);</span><br><span class="line">        System.out.println(person); <span class="comment">// 输出person 这一实例的具体值。</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----3-----"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、Field[] getDeclaredFields()：获取所有的成员变量，不考虑修饰符</span></span><br><span class="line">        <span class="keyword">for</span> (Field declaredField : personClass.getDeclaredFields()) &#123;</span><br><span class="line">            System.out.println(declaredField);<span class="comment">//打印输出 全部成员变量</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----4-----"</span>);</span><br><span class="line">        <span class="comment">//4、Field getDeclaredField(String name)</span></span><br><span class="line">        Field d = personClass.getDeclaredField(<span class="string">"d"</span>);<span class="comment">//D 是private 需要通过忽略</span></span><br><span class="line">        d.setAccessible(<span class="keyword">true</span>);<span class="comment">//暴力反射</span></span><br><span class="line">        Object value2 = d.get(person);</span><br><span class="line">        System.out.println(value2);<span class="comment">// 输出为null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ReflectDemo03.java</code> 对应构造器 new 一个对象；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            2. 获取构造方法们</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;?&gt;[] getConstructors()</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;T&gt; getConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                 * Constructor&lt;T&gt; getDeclaredConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment">                 * Constructor&lt;?&gt;[] getDeclaredConstructors()</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Constructor&lt;T&gt; getConstructor(类&lt;?&gt;... parameterTypes)</span></span><br><span class="line">        <span class="comment">// 对应参数的构造器</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor = personClass.getConstructor(String<span class="class">.<span class="keyword">class</span>,<span class="title">String</span>.<span class="title">class</span>)</span>;</span><br><span class="line">        System.out.println(constructor);</span><br><span class="line">        <span class="comment">//创建对象：构造器的目的</span></span><br><span class="line">        Object person = constructor.newInstance(<span class="string">"张三"</span>, <span class="string">"23"</span>);</span><br><span class="line">        System.out.println(person);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"----------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对应无参构造</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor1 = personClass.getConstructor();</span><br><span class="line">        System.out.println(constructor1);</span><br><span class="line">        <span class="comment">//创建对象：无参</span></span><br><span class="line">        Object person1 = constructor1.newInstance();</span><br><span class="line">        System.out.println(person1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用Class 类对象直接构建对象</span></span><br><span class="line">        System.out.println(<span class="string">"----类对象直接构建对象----"</span>);</span><br><span class="line">        Object o = personClass.newInstance();</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        <span class="comment">//暴力反射：</span></span><br><span class="line">        <span class="comment">//constructor1.setAccessible(true);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ReflectDemo04.java</code>  对应方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//0.获取Person的Class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">          3. 获取成员方法们：</span></span><br><span class="line"><span class="comment">             * Method[] getMethods()</span></span><br><span class="line"><span class="comment">             * Method getMethod(String name, 类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">             * Method[] getDeclaredMethods()</span></span><br><span class="line"><span class="comment">             * Method getDeclaredMethod(String name, 类&lt;?&gt;... parameterTypes)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//获取指定名称的方法</span></span><br><span class="line">        Method eat_method = personClass.getMethod(<span class="string">"eat"</span>);</span><br><span class="line">        Person p = <span class="keyword">new</span> Person();</span><br><span class="line">        <span class="comment">//执行方法 参数 是对象；</span></span><br><span class="line">        eat_method.invoke(p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Method eat_method2 = personClass.getMethod(<span class="string">"eat"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="comment">//执行方法</span></span><br><span class="line">        eat_method2.invoke(p,<span class="string">"饭"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-----------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取所有public修饰的方法</span></span><br><span class="line">        Method[] methods = personClass.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">            String name = method.getName();</span><br><span class="line">            System.out.println(name);</span><br><span class="line">            <span class="comment">//method.setAccessible(true);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取类名</span></span><br><span class="line">        String className = personClass.getName();</span><br><span class="line">        System.out.println(className);<span class="comment">//demo.vacation.reflect.Person</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-4、案例"><a href="#1-4、案例" class="headerlink" title="1.4、案例"></a>1.4、案例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 需求：写一个&quot;框架&quot;，不能改变该类的任何代码的前提下，可以帮我们创建任意类的对象，并且执行其中任意方法</span><br><span class="line">	* 实现：</span><br><span class="line">		1. 配置文件: （修改配置文件 可拓展性）</span><br><span class="line">		2. 反射</span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 将需要创建的对象的全类名和需要执行的方法定义在配置文件中</span><br><span class="line">		2. 在程序中加载读取配置文件</span><br><span class="line">		3. 使用反射技术来加载类文件进内存</span><br><span class="line">		4. 创建对象</span><br><span class="line">		5. 执行方法</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置文件：包含全类名 就是<strong>反射机制</strong>。</p>
</blockquote>
<h5 id="相关代码-1"><a href="#相关代码-1" class="headerlink" title="相关代码"></a>相关代码</h5><p><code>ReflectDemo.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demo.vacation.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//可以创建任意类的对象，可以执行任意方法</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            前提：不能改变该类的任何代码。可以创建任意类的对象，可以执行任意方法</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        此时就需要修改代码了</span></span><br><span class="line"><span class="comment">        Person p = new Person();</span></span><br><span class="line"><span class="comment">        p.eat();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        Student stu = new Student();</span></span><br><span class="line"><span class="comment">        stu.sleep();</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.加载配置文件</span></span><br><span class="line">        <span class="comment">//1.1创建Properties对象</span></span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//1.2加载配置文件，转换为一个集合</span></span><br><span class="line">        <span class="comment">//1.2.1获取class目录下的配置文件</span></span><br><span class="line">        ClassLoader classLoader = ReflectDemo<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>()</span>;<span class="comment">//通过类名的属性class获取类对象</span></span><br><span class="line">        InputStream is = classLoader.getResourceAsStream(<span class="string">"demo/vacation/reflect/pro.properties"</span>);</span><br><span class="line">        pro.load(is);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取配置文件中定义的数据</span></span><br><span class="line">        String className = pro.getProperty(<span class="string">"className"</span>);</span><br><span class="line">        String methodName = pro.getProperty(<span class="string">"methodName"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.加载该类进内存</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(className);</span><br><span class="line">        <span class="comment">//4.创建对象</span></span><br><span class="line">        Object obj = cls.newInstance();</span><br><span class="line">        <span class="comment">//5.获取方法对象</span></span><br><span class="line">        Method method = cls.getMethod(methodName);</span><br><span class="line">        <span class="comment">//6.执行方法</span></span><br><span class="line">        method.invoke(obj);<span class="comment">//sleep...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、注解相关"><a href="#2、注解相关" class="headerlink" title="2、注解相关"></a>2、注解相关</h3><p>概念：说明程序的；给计算机看的。</p>
<p>注释：用文字描述程序的；给程序员看的。</p>
<p>定义：注解（<code>Annotation</code>），也叫元数据。一种代码级别的说明。它是JDK1.5及以后版本引入的一个特性，与类、接口、枚举是在同一个层次。它可以声明在包、类、字段、方法、局部变量、方法参数等的前面，用来对这些元素进行说明，注释。</p>
<p>概念描述：</p>
<ul>
<li>JDK1.5之后的新特性</li>
<li>说明程序的</li>
<li>使用注解：@注解名称</li>
</ul>
<h4 id="2-1-作用分类"><a href="#2-1-作用分类" class="headerlink" title="2.1 作用分类"></a>2.1 作用分类</h4><p>①编写文档：通过代码里标识的注解生成文档【生成文档doc文档】</p>
<ul>
<li>CMD ：<code>javadoc  AnnotationDemo.java</code> 在当前文件下生成doc文件。</li>
</ul>
<p>②代码分析：通过代码里标识的注解对代码进行分析【使用反射】(我们反射抽取注解)</p>
<p>③编译检查：通过代码里标识的注解让编译器能够实现基本的编译检查【Override】</p>
<h4 id="2-2-JDK中预定义的一些注解"><a href="#2-2-JDK中预定义的一些注解" class="headerlink" title="2.2 JDK中预定义的一些注解"></a>2.2 JDK中预定义的一些注解</h4><ul>
<li><p>@Override    ：检测被该注解标注的方法是否是继承自父类(接口)的</p>
</li>
<li><p>@Deprecated：该注解标注的内容，表示已过时：调用时划掉但是也还可以使用：升级换代了。</p>
</li>
<li><p>@SuppressWarnings：压制警告</p>
<p>一般传递参数all  @SuppressWarnings(“all”)</p>
</li>
</ul>
<h4 id="2-3-自定义注解"><a href="#2-3-自定义注解" class="headerlink" title="2.3 自定义注解"></a>2.3 自定义注解</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式：</span></span><br><span class="line">      <span class="comment">//元注解 </span></span><br><span class="line">          <span class="keyword">public</span> <span class="meta">@interface</span> MyAnno&#123; <span class="comment">//注解名称MyAnno</span></span><br><span class="line">            <span class="comment">//属性列表;</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="comment">//本质：注解本质上就是一个接口，该接口默认继承Annotation接口</span></span><br><span class="line">      <span class="comment">//反编译MyAnno.class : javac MyAnno,java  javap MyAnno.class</span></span><br><span class="line">      <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyAnno</span> <span class="keyword">extends</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">annotation</span>.<span class="title">Annotation</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">//属性：接口中的抽象方法</span></span><br><span class="line">		* 要求：</span><br><span class="line">			<span class="number">1</span>. 属性的返回值类型有下列取值</span><br><span class="line">				* 基本数据类型</span><br><span class="line">				* String</span><br><span class="line">				* 枚举</span><br><span class="line">				* 注解</span><br><span class="line">				* 以上类型的数组</span><br><span class="line">      <span class="number">2</span>. 定义了属性，在使用时需要给属性赋值</span><br><span class="line">				<span class="number">1</span>. 如果定义属性时，使用<span class="keyword">default</span>关键字给属性默认初始化值，则使用注解时，可以不进行属性的赋值。</span><br><span class="line">				<span class="number">2</span>. 如果只有一个属性需要赋值，并且属性的名称是value，则value可以省略，直接定义值即可。</span><br><span class="line">				<span class="number">3</span>. 数组赋值时，值使用&#123;&#125;包裹。如果数组中只有一个值，则&#123;&#125;可以省略</span><br><span class="line"><span class="comment">//元注解：</span></span><br><span class="line">	* 元注解：用于描述注解的注解</span><br><span class="line">		* <span class="meta">@Target</span>：描述注解能够作用的位置</span><br><span class="line">			* ElementType取值：</span><br><span class="line">				* TYPE：可以作用于类上</span><br><span class="line">				* METHOD：可以作用于方法上</span><br><span class="line">				* FIELD：可以作用于成员变量上</span><br><span class="line">		* <span class="meta">@Retention</span>：描述注解被保留的阶段</span><br><span class="line">		* <span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)：当前被描述的注解，会保留到<span class="class"><span class="keyword">class</span>字节码文件中，并被<span class="title">JVM</span>读取到</span></span><br><span class="line"><span class="class">		* @<span class="title">Documented</span>：描述注解是否被抽取到<span class="title">api</span>文档中</span></span><br><span class="line"><span class="class">		* @<span class="title">Inherited</span>：描述注解是否被子类继承</span></span><br></pre></td></tr></table></figure>

<h4 id="2-4-在程序使用-解析-注解："><a href="#2-4-在程序使用-解析-注解：" class="headerlink" title="2.4 在程序使用(解析)注解："></a>2.4 在程序使用(解析)注解：</h4><blockquote>
<p>获取注解中定义的属性值</p>
</blockquote>
<ol>
<li><p>获取注解定义的位置的对象  （Class，Method,Field）</p>
</li>
<li><p>获取指定的注解</p>
<p><code>getAnnotation(Class)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProImpl</span> <span class="keyword">implements</span> <span class="title">Pro</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">className</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	 	<span class="keyword">return</span> <span class="string">"cn.itcast.annotation.Demo1"</span>;</span><br><span class="line">		&#125;</span><br><span class="line"> 		 <span class="function"><span class="keyword">public</span> String <span class="title">methodName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	 	<span class="keyword">return</span> <span class="string">"show"</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用注解中的抽象方法获取配置的属性值</p>
</li>
</ol>
<h4 id="2-5-案例"><a href="#2-5-案例" class="headerlink" title="2.5 案例"></a>2.5 案例</h4><ul>
<li>案例：简单的测试框架</li>
<li>小结：<ol>
<li>以后大多数时候，我们会使用注解，而不是自定义注解</li>
<li>注解给谁用？<ol>
<li>编译器</li>
<li>给解析程序用</li>
</ol>
</li>
<li>注解不是程序的一部分，可以理解为注解就是一个标签</li>
</ol>
</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Serendipity
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://serendipity-hzh.github.io/2021/08/15/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84%E7%9B%B8%E5%85%B3/" title="Java注解和反射相关">https://serendipity-hzh.github.io/2021/08/15/注解和反射相关/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/JAVA/" rel="tag"><i class="fa fa-tag"></i> JAVA</a>
              <a href="/tags/Reflection/" rel="tag"><i class="fa fa-tag"></i> Reflection</a>
              <a href="/tags/Annotation/" rel="tag"><i class="fa fa-tag"></i> Annotation</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/08/14/Junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" rel="prev" title="Junit单元测试">
      <i class="fa fa-chevron-left"></i> Junit单元测试
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#二、注解和反射的概念："><span class="nav-number">1.</span> <span class="nav-text">二、注解和反射的概念：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1、反射：-框架设计的灵魂"><span class="nav-number">1.1.</span> <span class="nav-text">1、反射： 框架设计的灵魂</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-获取Class对象的方式："><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1 获取Class对象的方式：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#相关代码"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">相关代码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-Class-对象的功能："><span class="nav-number">1.1.2.</span> <span class="nav-text">1.2 Class 对象的功能：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-被获取的各部分功能："><span class="nav-number">1.1.3.</span> <span class="nav-text">1.3 被获取的各部分功能：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#相关代码："><span class="nav-number">1.1.3.1.</span> <span class="nav-text">相关代码：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4、案例"><span class="nav-number">1.1.4.</span> <span class="nav-text">1.4、案例</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#相关代码-1"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">相关代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2、注解相关"><span class="nav-number">1.2.</span> <span class="nav-text">2、注解相关</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-作用分类"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 作用分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-JDK中预定义的一些注解"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 JDK中预定义的一些注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-自定义注解"><span class="nav-number">1.2.3.</span> <span class="nav-text">2.3 自定义注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-在程序使用-解析-注解："><span class="nav-number">1.2.4.</span> <span class="nav-text">2.4 在程序使用(解析)注解：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-案例"><span class="nav-number">1.2.5.</span> <span class="nav-text">2.5 案例</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Serendipity"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Serendipity</p>
  <div class="site-description" itemprop="description">生于尘埃 溺于人海 死于理想高台</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:TherCamus@gmail.com" title="E-Mail → mailto:TherCamus@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-rocket"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Captain Huo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">8k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">7 分钟</span>
</div>



    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">本站总访问量：<span id="busuanzi_value_site_pv"></span></span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">有<span id="busuanzi_value_site_uv"></span>位小伙伴来过😊</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }      	
});
</script> 

<br />



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='135,135,135' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>

